{"ast":null,"code":"var _jsxFileName = \"/Users/dasharathdyavari/Desktop/vwo-fme/src/locations/EntryEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Heading, Select } from '@contentful/f36-components';\nimport { /* useCMA, */useSDK } from '@contentful/react-apps-toolkit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Entry = () => {\n  _s();\n  var _sdk$field;\n  const sdk = useSDK();\n  console.log('here1: ', sdk);\n  const [id, setId] = useState((_sdk$field = sdk.field) === null || _sdk$field === void 0 ? void 0 : _sdk$field.getValue());\n  const [ids, setIds] = useState([{\n    name: 'id1',\n    id: 'id1',\n    selected: false\n  }, {\n    name: 'id2',\n    id: 'id2',\n    selected: false\n  }, {\n    name: 'id3',\n    id: 'id3',\n    selected: false\n  }, {\n    name: 'id4',\n    id: 'id4',\n    selected: false\n  }, {\n    name: 'id5',\n    id: 'id5',\n    selected: false\n  }]);\n  async function getAllEntries() {\n    sdk.space.getEntries().then(resp => {\n      console.log('resp: ', resp);\n      if (resp.items.length) {\n        let newIds = ids.map(id => {\n          var _sdk$field4;\n          let isSelected = id.selected;\n          for (let i = 0; i < resp.items.length; i++) {\n            var _sdk$field2, _sdk$field3;\n            let entry = resp.items[i];\n            if (entry.fields[(_sdk$field2 = sdk.field) === null || _sdk$field2 === void 0 ? void 0 : _sdk$field2.id] && id.id === entry.fields[(_sdk$field3 = sdk.field) === null || _sdk$field3 === void 0 ? void 0 : _sdk$field3.id]['en-US']) {\n              isSelected = true;\n              break;\n            }\n          }\n          return {\n            ...id,\n            selected: isSelected && id.id !== ((_sdk$field4 = sdk.field) === null || _sdk$field4 === void 0 ? void 0 : _sdk$field4.getValue())\n          };\n        });\n        setIds(newIds);\n        if (!id) {\n          setDefaultId(newIds);\n        }\n      }\n    });\n  }\n  const setUserId = value => {\n    var _sdk$field5;\n    (_sdk$field5 = sdk.field) === null || _sdk$field5 === void 0 ? void 0 : _sdk$field5.setValue(value);\n    setId(value);\n  };\n  const setDefaultId = newIds => {\n    for (let i = 0; i < newIds.length; i++) {\n      let userId = newIds[i];\n      if (!userId.selected) {\n        setUserId(userId.id);\n        break;\n      }\n    }\n  };\n  useEffect(() => {\n    var _sdk$window;\n    (_sdk$window = sdk.window) === null || _sdk$window === void 0 ? void 0 : _sdk$window.startAutoResizer();\n    getAllEntries();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      children: \"Select User Id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      value: id,\n      onChange: e => setUserId(e.target.value),\n      id: \"userId\",\n      name: \"userId\",\n      children: ids.map(uniqueId => {\n        return /*#__PURE__*/_jsxDEV(Select.Option, {\n          isDisabled: uniqueId.selected,\n          value: uniqueId.id,\n          children: uniqueId.name\n        }, uniqueId.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 22\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Entry, \"Rc0XspV+HNyDELVrp2Io2wAhnb8=\", false, function () {\n  return [useSDK];\n});\n_c = Entry;\nexport default Entry;\nvar _c;\n$RefreshReg$(_c, \"Entry\");","map":{"version":3,"names":["React","useState","useEffect","Heading","Select","useSDK","jsxDEV","_jsxDEV","Entry","_s","_sdk$field","sdk","console","log","id","setId","field","getValue","ids","setIds","name","selected","getAllEntries","space","getEntries","then","resp","items","length","newIds","map","_sdk$field4","isSelected","i","_sdk$field2","_sdk$field3","entry","fields","setDefaultId","setUserId","value","_sdk$field5","setValue","userId","_sdk$window","window","startAutoResizer","Fragment","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","uniqueId","Option","isDisabled","_c","$RefreshReg$"],"sources":["/Users/dasharathdyavari/Desktop/vwo-fme/src/locations/EntryEditor.jsx"],"sourcesContent":["import React, {useState,useEffect} from 'react';\nimport { Heading, Select } from '@contentful/f36-components';\nimport { /* useCMA, */ useSDK } from '@contentful/react-apps-toolkit';\n\nconst Entry = () => {\n  const sdk = useSDK();\n  console.log('here1: ',sdk)\n  const [id,setId] = useState(sdk.field?.getValue());\n  const [ids,setIds] = useState([\n    {name: 'id1',id: 'id1',selected: false},\n    {name: 'id2',id: 'id2',selected: false},\n    {name: 'id3',id: 'id3',selected: false},\n    {name: 'id4',id: 'id4',selected: false},\n    {name: 'id5',id: 'id5',selected: false}\n  ]);\n  \n  async function getAllEntries() {\n    sdk.space.getEntries().then((resp) => {\n      console.log('resp: ',resp)\n      if(resp.items.length){\n        let newIds = ids.map(id => {\n          let isSelected = id.selected;\n          for(let i = 0; i < resp.items.length; i++){\n            let entry = resp.items[i];\n            if(entry.fields[sdk.field?.id] && id.id === entry.fields[sdk.field?.id]['en-US']){\n              isSelected = true;\n              break;\n            }\n          }\n          return {...id,selected: isSelected && id.id !== sdk.field?.getValue()}\n        })\n        setIds(newIds);\n        if(!id){\n          setDefaultId(newIds);\n        }\n      }\n    })\n  }\n\n  const setUserId = (value) => {\n    sdk.field?.setValue(value);\n    setId(value);\n  }\n\n  const setDefaultId = (newIds) => {\n    for(let i = 0; i < newIds.length; i++){\n      let userId = newIds[i];\n      if(!userId.selected){\n        setUserId(userId.id);\n        break;\n      }\n    }\n  }\n\n  useEffect(() => {\n    sdk.window?.startAutoResizer();\n    getAllEntries();\n  },[]);\n\n  return (\n    <React.Fragment>\n      <Heading>Select User Id</Heading>\n      <Select\n        value={id}\n        onChange={e => setUserId(e.target.value)}\n        id='userId'\n        name='userId'>\n          {ids.map((uniqueId) => {\n              return <Select.Option isDisabled={uniqueId.selected} value={uniqueId.id} key={uniqueId.id}>{uniqueId.name}</Select.Option>\n          })}\n      </Select>\n    </React.Fragment>\n  )\n};\n\nexport default Entry;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}