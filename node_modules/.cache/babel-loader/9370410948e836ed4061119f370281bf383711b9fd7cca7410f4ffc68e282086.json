{"ast":null,"code":"var _jsxFileName = \"/Users/dasharathdyavari/Desktop/vwo-fme/src/locations/EntryEditor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Button, Heading, Paragraph, Select, Skeleton, Modal } from '@contentful/f36-components';\nimport useMethods from 'use-methods';\nimport { /* useCMA, */useSDK } from '@contentful/react-apps-toolkit';\nimport { css } from 'emotion';\nimport VWOLogo from '../components/VWOLogo';\nimport StatusBar from '../components/StatusBar';\nimport SectionSplitter from '../components/SectionSplitter';\nimport FeatureFlag from '../components/FeatureFlag';\nimport tokens from '@contentful/f36-tokens';\nimport Variations from '../components/Variations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalStateContext = /*#__PURE__*/React.createContext(null);\nconst styles = {\n  editor: css({\n    margin: tokens.spacingXl\n  }),\n  connect: css({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '&:hover': {\n      backgroundColor: 'transparent!important' // necessary to eliminate the forma styling in favor of the custom optimizely styling\n    }\n  })\n};\nconst methods = state => {\n  return {\n    setInitialData({\n      featureFlag,\n      contentTypes,\n      variations,\n      entries\n    }) {\n      state.featureFlag = featureFlag;\n      state.variations = variations;\n      state.contentTypes = contentTypes;\n      state.entries = entries;\n    },\n    setLoading(loadingState) {\n      state.loading = loadingState;\n    },\n    setCurrentStep(step) {\n      state.currentStep = step;\n    },\n    setFeatureFlag(featureFlag) {\n      state.featureFlag = featureFlag;\n    },\n    setEntries(entries) {\n      state.entries = entries;\n    },\n    setVwoVariations(variations) {\n      state.vwoVariations = variations;\n    },\n    setError(message) {\n      state.error = message;\n    },\n    setVariations(variations) {\n      state.variations = variations;\n    },\n    setMeta(meta) {\n      state.meta = meta;\n    }\n  };\n};\nconst getInitialValues = sdk => {\n  var _sdk$entry$fields$met;\n  return {\n    loading: true,\n    error: false,\n    currentStep: 1,\n    contentTypes: [],\n    meta: ((_sdk$entry$fields$met = sdk.entry.fields.meta) === null || _sdk$entry$fields$met === void 0 ? void 0 : _sdk$entry$fields$met.getValue()) || {},\n    variations: sdk.entry.fields.variations.getValue() || [],\n    vwoVariations: [],\n    featureFlag: sdk.entry.fields.featureFlag.getValue() || {},\n    entries: {}\n  };\n};\nconst emptyState = sdk => {\n  sdk.entry.fields.featureFlag.setValue({});\n  sdk.entry.fields.variations.setValue([]);\n};\nconst fetchInitialData = async sdk => {\n  const {\n    space,\n    ids,\n    locales\n  } = sdk;\n  const [contentTypes, entries] = await Promise.all([space.getContentTypes({\n    order: 'name',\n    limit: 1000\n  }), space.getEntries({\n    skip: 0,\n    limit: 1000\n  })]);\n  return {\n    featureFlag: sdk.entry.fields.featureFlag.getValue(),\n    contentTypes: contentTypes.items,\n    variations: sdk.entry.fields.variations.getValue() || [],\n    entries: entries.items\n  };\n};\nconst EntryEditor = props => {\n  _s();\n  const globalState = useMethods(methods, getInitialValues(props.sdk));\n  const [state, actions] = globalState;\n  const addVwoVariation = useCallback(() => {\n    let newVariation = {\n      name: state.vwoVariations.length ? `Variation-${state.vwoVariations.length}` : 'Control',\n      id: state.vwoVariations.length + 1,\n      jsonContent: {\n        variableId: 1,\n        value: 'notSet'\n      }\n    };\n    actions.setVwoVariations([...state.vwoVariations, newVariation]);\n    actions.setLoading(false);\n  });\n  const addContentToVwoVariation = useCallback((variationId, contentId, updateEntries) => {\n    let updatedVwoVariations = state.vwoVariations.map(_variation => {\n      if (_variation.id == variationId) {\n        _variation.jsonContent.value = contentId;\n      }\n      return _variation;\n    });\n    actions.setVwoVariations(updatedVwoVariations);\n    if (updateEntries) {\n      props.sdk.space.getEntries({\n        skip: 0,\n        limit: 1000\n      }).then(resp => {\n        actions.setEntries(resp.items);\n      });\n    }\n  });\n  const createFeatureFlag = useCallback(featureFlag => {\n    if (featureFlag.featureKey) {\n      props.sdk.entry.fields.featureFlag.setValue(featureFlag);\n      actions.setFeatureFlag(featureFlag);\n    }\n  });\n  const linkExistingEntry = useCallback(async vwoVariation => {\n    const data = await props.sdk.dialogs.selectSingleEntry({\n      locale: props.sdk.locales.default\n    });\n    if (!data) {\n      return;\n    }\n    const variations = props.sdk.entry.fields.variations.getValue() || [];\n    const meta = props.sdk.entry.fields.meta.getValue() || {};\n    props.sdk.entry.fields.meta.setValue({\n      ...meta,\n      [vwoVariation.id]: data.sys.id\n    });\n    props.sdk.entry.fields.variations.setValue([...variations, {\n      sys: {\n        type: 'Link',\n        id: data.sys.id,\n        linkType: 'Entry'\n      }\n    }]);\n    addContentToVwoVariation(vwoVariation.id, data.sys.id, false);\n  });\n  const createVariation = useCallback(async (variation, contentType) => {\n    const data = await props.sdk.navigator.openNewEntry(contentType.sys.id, {\n      slideIn: true\n    });\n    if (!data) {\n      return;\n    }\n    const variations = props.sdk.entry.fields.variations.getValue() || [];\n    const meta = props.sdk.entry.fields.meta.getValue() || {};\n    props.sdk.entry.fields.meta.setValue({\n      ...meta,\n      [variation.id]: data.entity.sys.id\n    });\n    props.sdk.entry.fields.variations.setValue([...variations, {\n      sys: {\n        type: 'Link',\n        id: data.entity.sys.id,\n        linkType: 'Entry'\n      }\n    }]);\n    addContentToVwoVariation(variation.id, data.entity.sys.id, true);\n  });\n  const updateVwoVariationContent = useCallback((vwoVariationId, contentId) => {\n    let vwoVariations = state.vwoVariations.map(_vwoVariation => {\n      if (_vwoVariation.id == vwoVariationId) {\n        _vwoVariation.jsonContent.value = contentId;\n      }\n      return _vwoVariation;\n    });\n    actions.setVwoVariations(vwoVariations);\n  });\n  useEffect(() => {\n    emptyState(props.sdk);\n    if (!state.vwoVariations.length) {\n      addVwoVariation();\n    }\n    fetchInitialData(props.sdk).then(data => {\n      actions.setInitialData(data);\n      return data;\n    }).catch(() => {\n      actions.setError('Unable to load initial data');\n    });\n  }, []);\n  useEffect(() => {\n    const unsubsribeVariationsChange = props.sdk.entry.fields.variations.onValueChanged(data => {\n      actions.setVariations(data || []);\n    });\n    const unsubscribeMetaChange = props.sdk.entry.fields.meta.onValueChanged(data => {\n      actions.setMeta(data || {});\n    });\n    return () => {\n      unsubsribeVariationsChange();\n      unsubscribeMetaChange();\n    };\n  }, [actions, props.sdk.entry.fields.meta, props.sdk.entry.fields.variations]);\n  const isFeatureFlagCreated = state.featureFlag.featureKey;\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(GlobalStateContext.Provider, {\n      value: globalState,\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Connect with VWO\",\n        isShown: props.client,\n        children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n          testId: \"reconnect-vwo\",\n          children: \"Your VWO session has expired. Reconnect to continue editing.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: styles.connect,\n          onClick: props.openAuth,\n          testId: \"connect-button\",\n          isFullWidth: true,\n          buttonType: \"naked\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VWOLogo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.editor,\n        testId: \"editor-page\",\n        children: [/*#__PURE__*/_jsxDEV(StatusBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SectionSplitter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), state.loading && /*#__PURE__*/_jsxDEV(Skeleton.Container, {\n          children: /*#__PURE__*/_jsxDEV(Skeleton.BodyText, {\n            numberOfLines: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 29\n        }, this), !state.loading && /*#__PURE__*/_jsxDEV(FeatureFlag, {\n          sdk: props.sdk,\n          featureFlag: state.featureFlag,\n          vwoVariation: state.vwoVariations[0],\n          contentTypes: state.contentTypes,\n          linkExistingEntry: linkExistingEntry,\n          onCreateVariation: createVariation,\n          onFeatureFlagCreation: createFeatureFlag,\n          updateVwoVariationContent: updateVwoVariationContent,\n          entries: state.entries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 30\n        }, this), isFeatureFlagCreated && !state.loading && /*#__PURE__*/_jsxDEV(SectionSplitter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 54\n        }, this), isFeatureFlagCreated && !state.loading && /*#__PURE__*/_jsxDEV(Variations, {\n          sdk: props.sdk,\n          variations: state.variations,\n          contentTypes: state.contentTypes,\n          vwoVariations: state.vwoVariations,\n          addVwoVariation: addVwoVariation,\n          addContentToVwoVariation: addContentToVwoVariation,\n          onCreateVariation: createVariation,\n          linkExistingEntry: linkExistingEntry,\n          updateVwoVariationContent: updateVwoVariationContent,\n          entries: state.entries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n};\n_s(EntryEditor, \"OeYTsp9y7XfUccljGnDClKnFJWY=\", false, function () {\n  return [useMethods];\n});\n_c = EntryEditor;\nexport default EntryEditor;\nvar _c;\n$RefreshReg$(_c, \"EntryEditor\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Button","Heading","Paragraph","Select","Skeleton","Modal","useMethods","useSDK","css","VWOLogo","StatusBar","SectionSplitter","FeatureFlag","tokens","Variations","jsxDEV","_jsxDEV","GlobalStateContext","createContext","styles","editor","margin","spacingXl","connect","display","alignItems","justifyContent","backgroundColor","methods","state","setInitialData","featureFlag","contentTypes","variations","entries","setLoading","loadingState","loading","setCurrentStep","step","currentStep","setFeatureFlag","setEntries","setVwoVariations","vwoVariations","setError","message","error","setVariations","setMeta","meta","getInitialValues","sdk","_sdk$entry$fields$met","entry","fields","getValue","emptyState","setValue","fetchInitialData","space","ids","locales","Promise","all","getContentTypes","order","limit","getEntries","skip","items","EntryEditor","props","_s","globalState","actions","addVwoVariation","newVariation","name","length","id","jsonContent","variableId","value","addContentToVwoVariation","variationId","contentId","updateEntries","updatedVwoVariations","map","_variation","then","resp","createFeatureFlag","featureKey","linkExistingEntry","vwoVariation","data","dialogs","selectSingleEntry","locale","default","sys","type","linkType","createVariation","variation","contentType","navigator","openNewEntry","slideIn","entity","updateVwoVariationContent","vwoVariationId","_vwoVariation","catch","unsubsribeVariationsChange","onValueChanged","unsubscribeMetaChange","isFeatureFlagCreated","Fragment","children","Provider","title","isShown","client","testId","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","openAuth","isFullWidth","buttonType","Container","BodyText","numberOfLines","onCreateVariation","onFeatureFlagCreation","_c","$RefreshReg$"],"sources":["/Users/dasharathdyavari/Desktop/vwo-fme/src/locations/EntryEditor.jsx"],"sourcesContent":["import React, {useState,useEffect, useCallback} from 'react';\nimport { Button, Heading, Paragraph, Select, Skeleton, Modal } from '@contentful/f36-components';\nimport useMethods from 'use-methods';\nimport { /* useCMA, */ useSDK } from '@contentful/react-apps-toolkit';\nimport { css } from 'emotion';\nimport VWOLogo from '../components/VWOLogo';\nimport StatusBar from '../components/StatusBar';\nimport SectionSplitter from '../components/SectionSplitter';\nimport FeatureFlag from '../components/FeatureFlag';\nimport tokens from '@contentful/f36-tokens';\nimport Variations from '../components/Variations';\n\nconst GlobalStateContext = React.createContext(null);\n\nconst styles = {\n  editor: css({\n    margin: tokens.spacingXl\n  }),\n  connect: css({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '&:hover': {\n      backgroundColor: 'transparent!important' // necessary to eliminate the forma styling in favor of the custom optimizely styling\n    }\n  })\n};\n\nconst methods = state => {\n  return {\n    setInitialData({featureFlag, contentTypes, variations, entries }){\n      state.featureFlag = featureFlag;\n      state.variations = variations;\n      state.contentTypes = contentTypes;\n      state.entries = entries;\n    },\n    setLoading(loadingState){\n      state.loading = loadingState;\n    },\n    setCurrentStep(step){\n      state.currentStep = step;\n    },\n    setFeatureFlag(featureFlag){\n      state.featureFlag = featureFlag;\n    },\n    setEntries(entries){\n      state.entries = entries;\n    },\n    setVwoVariations(variations){\n      state.vwoVariations = variations;\n    },\n    setError(message){\n      state.error = message;\n    },\n    setVariations(variations){\n      state.variations = variations;\n    },\n    setMeta(meta) {\n      state.meta = meta;\n    }\n  }\n}\n\nconst getInitialValues = sdk => ({\n  loading: true,\n  error: false,\n  currentStep: 1,\n  contentTypes: [],\n  meta: sdk.entry.fields.meta?.getValue() || {},\n  variations: sdk.entry.fields.variations.getValue() || [],\n  vwoVariations: [],\n  featureFlag: sdk.entry.fields.featureFlag.getValue() || {},\n  entries: {}\n})\n\nconst emptyState = (sdk) => {\n  sdk.entry.fields.featureFlag.setValue({});\n  sdk.entry.fields.variations.setValue([]);\n}\n\nconst fetchInitialData = async (sdk) => {\n  const { space, ids, locales } = sdk;\n  const [contentTypes, entries] = await Promise.all([\n    space.getContentTypes({ order: 'name', limit: 1000}),\n    space.getEntries({ skip: 0, limit: 1000})\n  ]);\n\n  return {\n    featureFlag: sdk.entry.fields.featureFlag.getValue(),\n    contentTypes: contentTypes.items,\n    variations: sdk.entry.fields.variations.getValue() || [],\n    entries: entries.items\n  }\n}\n\nconst EntryEditor = (props) => {\n  const globalState = useMethods(methods, getInitialValues(props.sdk));\n  const [state, actions] = globalState;\n\n  const addVwoVariation = useCallback(() => {\n    let newVariation = {\n      name: state.vwoVariations.length? `Variation-${state.vwoVariations.length}`: 'Control',\n      id: state.vwoVariations.length+1,\n      jsonContent: {\n        variableId: 1,\n        value: 'notSet'\n      }\n    };\n    actions.setVwoVariations([...state.vwoVariations,newVariation]);\n    actions.setLoading(false);\n  });\n\n  const addContentToVwoVariation = useCallback((variationId, contentId, updateEntries) => {\n    let updatedVwoVariations = state.vwoVariations.map((_variation) => {\n      if(_variation.id == variationId){\n        _variation.jsonContent.value = contentId;\n      }\n      return _variation;\n    });\n    actions.setVwoVariations(updatedVwoVariations);\n    if(updateEntries){\n      props.sdk.space.getEntries({ skip: 0, limit: 1000}).then(resp => {\n        actions.setEntries(resp.items);\n      })\n    }\n  });\n\n  const createFeatureFlag = useCallback((featureFlag) => {\n    if(featureFlag.featureKey){\n      props.sdk.entry.fields.featureFlag.setValue(featureFlag);\n      actions.setFeatureFlag(featureFlag);\n    }\n  });\n\n  const linkExistingEntry = useCallback(async (vwoVariation) => {\n    const data = await props.sdk.dialogs.selectSingleEntry({\n      locale: props.sdk.locales.default\n    });\n    \n    if(!data){\n      return;\n    }\n\n    const variations = props.sdk.entry.fields.variations.getValue() || [];\n    const meta = props.sdk.entry.fields.meta.getValue() || {};\n\n    props.sdk.entry.fields.meta.setValue({\n      ...meta,\n      [vwoVariation.id]: data.sys.id\n    });\n\n    props.sdk.entry.fields.variations.setValue([\n      ...variations,\n      {\n        sys: {\n          type: 'Link',\n          id: data.sys.id,\n          linkType: 'Entry'\n        }\n      }\n    ]);\n\n    addContentToVwoVariation(vwoVariation.id, data.sys.id, false);\n  });\n\n  const createVariation = useCallback(async(variation, contentType) => {\n    const data = await props.sdk.navigator.openNewEntry(contentType.sys.id,{\n      slideIn: true\n    });\n\n    if(!data){\n      return;\n    }\n\n    const variations = props.sdk.entry.fields.variations.getValue() || [];\n    const meta = props.sdk.entry.fields.meta.getValue() || {};\n\n    props.sdk.entry.fields.meta.setValue({\n      ...meta,\n      [variation.id]: data.entity.sys.id\n    });\n\n    props.sdk.entry.fields.variations.setValue([\n      ...variations,\n      {\n        sys: {\n          type: 'Link',\n          id: data.entity.sys.id,\n          linkType: 'Entry'\n        }\n      }\n    ]);\n    addContentToVwoVariation(variation.id, data.entity.sys.id, true);\n  });\n\n  const updateVwoVariationContent = useCallback((vwoVariationId, contentId) => {\n    let vwoVariations = state.vwoVariations.map(_vwoVariation => {\n      if(_vwoVariation.id == vwoVariationId){\n        _vwoVariation.jsonContent.value = contentId;\n      }\n      return _vwoVariation;\n    });\n    actions.setVwoVariations(vwoVariations);\n  });\n\n  useEffect(() => {\n    emptyState(props.sdk);\n    if(!state.vwoVariations.length){\n      addVwoVariation();\n    }\n    fetchInitialData(props.sdk)\n      .then(data => {\n        actions.setInitialData(data);\n        return data;\n      })\n      .catch(() => {\n        actions.setError('Unable to load initial data');\n      });\n  }, []);\n\n  useEffect(() => {\n    const unsubsribeVariationsChange = props.sdk.entry.fields.variations.onValueChanged(data => {\n      actions.setVariations(data || []);\n    });\n    const unsubscribeMetaChange = props.sdk.entry.fields.meta.onValueChanged(data => {\n      actions.setMeta(data || {});\n    });\n\n    return () => {\n      unsubsribeVariationsChange();\n      unsubscribeMetaChange();\n    }\n  },[\n    actions,\n    props.sdk.entry.fields.meta,\n    props.sdk.entry.fields.variations\n  ])\n\n  const isFeatureFlagCreated = state.featureFlag.featureKey;\n\n  return (\n    <React.Fragment>\n      <GlobalStateContext.Provider value={globalState}>\n        <Modal title='Connect with VWO' isShown={props.client}>\n          <Paragraph testId='reconnect-vwo'>\n            Your VWO session has expired. Reconnect to continue editing.\n          </Paragraph>\n          <Button\n            className={styles.connect}\n            onClick={props.openAuth}\n            testId='connect-button'\n            isFullWidth\n            buttonType='naked'>\n          </Button>\n          <VWOLogo />\n        </Modal>\n\n        <div className={styles.editor} testId='editor-page'>\n          <StatusBar />\n          <SectionSplitter />\n          {state.loading && <Skeleton.Container>\n            <Skeleton.BodyText numberOfLines={10} />\n          </Skeleton.Container>}\n          {!state.loading && <FeatureFlag\n            sdk={props.sdk}\n            featureFlag={state.featureFlag}\n            vwoVariation={state.vwoVariations[0]}\n            contentTypes={state.contentTypes}\n            linkExistingEntry={linkExistingEntry}\n            onCreateVariation={createVariation}\n            onFeatureFlagCreation={createFeatureFlag}\n            updateVwoVariationContent={updateVwoVariationContent}\n            entries = {state.entries}/>}\n          {isFeatureFlagCreated && !state.loading && <SectionSplitter />}\n          {isFeatureFlagCreated && !state.loading && \n            <Variations\n              sdk={props.sdk}\n              variations={state.variations}\n              contentTypes={state.contentTypes}\n              vwoVariations={state.vwoVariations}\n              addVwoVariation={addVwoVariation}\n              addContentToVwoVariation={addContentToVwoVariation}\n              onCreateVariation={createVariation}\n              linkExistingEntry={linkExistingEntry}\n              updateVwoVariationContent={updateVwoVariationContent}\n              entries = {state.entries}/>}\n        </div>\n      </GlobalStateContext.Provider>\n    </React.Fragment>\n  )\n};\n\nexport default EntryEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}