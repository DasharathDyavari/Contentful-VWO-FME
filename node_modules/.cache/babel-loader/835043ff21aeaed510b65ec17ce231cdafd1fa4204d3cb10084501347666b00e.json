{"ast":null,"code":"import { get } from \"lodash\";\nexport const getEntryStatus = sys => {\n  if (sys.archivedVersion) {\n    return 'archived';\n  } else if (sys.publishedVersion) {\n    if (sys.version > sys.publishedVersion + 1) {\n      return 'changed';\n    } else {\n      return 'published';\n    }\n  } else {\n    return 'draft';\n  }\n};\nexport function getRequiredEntryInformation(entry, contentTypes, defaultLocale) {\n  const contentTypeId = get(entry, ['sys', 'contentType', 'sys', 'id']);\n  const contentType = contentTypes.find(contentType => contentType.sys.id === contentTypeId);\n  if (!contentType) {\n    throw new Error(`Content type ${contentTypeId} is not present`);\n  }\n  const displayField = contentType.displayField;\n  const descriptionFieldType = contentType.fields.filter(field => field.id != displayField).find(field => field.type == 'Text');\n  const description = descriptionFieldType ? get(entry, ['fields', descriptionFieldType.id, defaultLocale], '') : '';\n  const title = get(entry, ['fields', displayField, defaultLocale], 'Untitled');\n  const status = getEntryStatus(entry.sys);\n  return {\n    title,\n    description,\n    contentType: contentType.name,\n    status\n  };\n}","map":{"version":3,"names":["get","getEntryStatus","sys","archivedVersion","publishedVersion","version","getRequiredEntryInformation","entry","contentTypes","defaultLocale","contentTypeId","contentType","find","id","Error","displayField","descriptionFieldType","fields","filter","field","type","description","title","status","name"],"sources":["/Users/dasharathdyavari/Desktop/vwo-fme/src/utils.js"],"sourcesContent":["import { get } from \"lodash\";\n\nexport const getEntryStatus = sys => {\n   if (sys.archivedVersion) {\n     return 'archived';\n   } else if (sys.publishedVersion) {\n     if (sys.version > sys.publishedVersion + 1) {\n       return 'changed';\n     } else {\n       return 'published';\n     }\n   } else {\n     return 'draft';\n   }\n };\n\nexport function getRequiredEntryInformation(entry, contentTypes, defaultLocale){\n   const contentTypeId = get(entry, ['sys', 'contentType', 'sys', 'id']);\n   const contentType = contentTypes.find(contentType => contentType.sys.id === contentTypeId);\n\n   if(!contentType){\n      throw new Error(`Content type ${contentTypeId} is not present`);\n   }\n\n   const displayField = contentType.displayField;\n   const descriptionFieldType = contentType.fields\n   .filter(field => field.id != displayField)\n   .find(field => field.type == 'Text');\n\n   const description = descriptionFieldType\n    ? get(entry, ['fields', descriptionFieldType.id, defaultLocale], '')\n    : '';\n\n    const title = get(entry, ['fields',displayField,defaultLocale],'Untitled');\n    const status = getEntryStatus(entry.sys);\n\n    return {\n      title,\n      description,\n      contentType: contentType.name,\n      status\n    }\n}"],"mappings":"AAAA,SAASA,GAAG,QAAQ,QAAQ;AAE5B,OAAO,MAAMC,cAAc,GAAGC,GAAG,IAAI;EAClC,IAAIA,GAAG,CAACC,eAAe,EAAE;IACvB,OAAO,UAAU;EACnB,CAAC,MAAM,IAAID,GAAG,CAACE,gBAAgB,EAAE;IAC/B,IAAIF,GAAG,CAACG,OAAO,GAAGH,GAAG,CAACE,gBAAgB,GAAG,CAAC,EAAE;MAC1C,OAAO,SAAS;IAClB,CAAC,MAAM;MACL,OAAO,WAAW;IACpB;EACF,CAAC,MAAM;IACL,OAAO,OAAO;EAChB;AACF,CAAC;AAEF,OAAO,SAASE,2BAA2BA,CAACC,KAAK,EAAEC,YAAY,EAAEC,aAAa,EAAC;EAC5E,MAAMC,aAAa,GAAGV,GAAG,CAACO,KAAK,EAAE,CAAC,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;EACrE,MAAMI,WAAW,GAAGH,YAAY,CAACI,IAAI,CAACD,WAAW,IAAIA,WAAW,CAACT,GAAG,CAACW,EAAE,KAAKH,aAAa,CAAC;EAE1F,IAAG,CAACC,WAAW,EAAC;IACb,MAAM,IAAIG,KAAK,CAAC,gBAAgBJ,aAAa,iBAAiB,CAAC;EAClE;EAEA,MAAMK,YAAY,GAAGJ,WAAW,CAACI,YAAY;EAC7C,MAAMC,oBAAoB,GAAGL,WAAW,CAACM,MAAM,CAC9CC,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACN,EAAE,IAAIE,YAAY,CAAC,CACzCH,IAAI,CAACO,KAAK,IAAIA,KAAK,CAACC,IAAI,IAAI,MAAM,CAAC;EAEpC,MAAMC,WAAW,GAAGL,oBAAoB,GACrChB,GAAG,CAACO,KAAK,EAAE,CAAC,QAAQ,EAAES,oBAAoB,CAACH,EAAE,EAAEJ,aAAa,CAAC,EAAE,EAAE,CAAC,GAClE,EAAE;EAEJ,MAAMa,KAAK,GAAGtB,GAAG,CAACO,KAAK,EAAE,CAAC,QAAQ,EAACQ,YAAY,EAACN,aAAa,CAAC,EAAC,UAAU,CAAC;EAC1E,MAAMc,MAAM,GAAGtB,cAAc,CAACM,KAAK,CAACL,GAAG,CAAC;EAExC,OAAO;IACLoB,KAAK;IACLD,WAAW;IACXV,WAAW,EAAEA,WAAW,CAACa,IAAI;IAC7BD;EACF,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}