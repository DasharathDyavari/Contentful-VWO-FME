{"ast":null,"code":"const {\n  init\n} = require('vwo-fme-node-sdk');\nexport default class VwoClient {\n  constructor({\n    authToken,\n    onReauth\n  }) {\n    this.makeRequest = async url => {\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${this.accessToken}`\n        }\n      });\n      if (response.ok) {\n        return await response.json();\n      }\n      this.onReauth();\n      return Promise.reject(new Error(`request failed for url: ${url} with status: ${response.status}`));\n    };\n    this.createFeatureFlag = async () => {};\n    if (!authToken || typeof authToken !== 'string') {\n      throw new Error('You have to provide a valid token id');\n    }\n    this.expires = Date.now() + 1 * 60 * 1000;\n    this.accessToken = authToken;\n    this.onReauth = onReauth;\n    this.baseUrl = 'https://app.vwo.com/api/v2';\n    this.onReauth = onReauth;\n    this.vwoClient = null;\n  }\n}","map":{"version":3,"names":["init","require","VwoClient","constructor","authToken","onReauth","makeRequest","url","response","fetch","headers","Authorization","accessToken","ok","json","Promise","reject","Error","status","createFeatureFlag","expires","Date","now","baseUrl","vwoClient"],"sources":["/Users/dasharathdyavari/Desktop/vwo-fme/src/vwo-client.js"],"sourcesContent":["const { init } = require('vwo-fme-node-sdk');\n\nexport default class VwoClient {\n   constructor({ authToken, onReauth }){\n      if(!authToken || typeof authToken !== 'string'){\n         throw new Error('You have to provide a valid token id');\n      }\n\n      this.expires = Date.now() + 1 * 60 * 1000;\n      this.accessToken = authToken;\n      this.onReauth = onReauth;\n      this.baseUrl = 'https://app.vwo.com/api/v2';\n      this.onReauth = onReauth;\n      this.vwoClient = null;\n   }\n\n   makeRequest = async url => {\n      const response = await fetch(url, {\n         headers: {\n            Authorization: `Bearer ${this.accessToken}`\n         }\n      });\n\n      if(response.ok){\n         return await response.json();\n      }\n\n      this.onReauth();\n      return Promise.reject(\n         new Error(`request failed for url: ${url} with status: ${response.status}`)\n      );\n   };\n\n   createFeatureFlag = async() => {\n\n   }\n}"],"mappings":"AAAA,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAE5C,eAAe,MAAMC,SAAS,CAAC;EAC5BC,WAAWA,CAAC;IAAEC,SAAS;IAAEC;EAAS,CAAC,EAAC;IAAA,KAapCC,WAAW,GAAG,MAAMC,GAAG,IAAI;MACxB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;QAC/BG,OAAO,EAAE;UACNC,aAAa,EAAE,UAAU,IAAI,CAACC,WAAW;QAC5C;MACH,CAAC,CAAC;MAEF,IAAGJ,QAAQ,CAACK,EAAE,EAAC;QACZ,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MAC/B;MAEA,IAAI,CAACT,QAAQ,CAAC,CAAC;MACf,OAAOU,OAAO,CAACC,MAAM,CAClB,IAAIC,KAAK,CAAC,2BAA2BV,GAAG,iBAAiBC,QAAQ,CAACU,MAAM,EAAE,CAC7E,CAAC;IACJ,CAAC;IAAA,KAEDC,iBAAiB,GAAG,YAAW,CAE/B,CAAC;IA/BE,IAAG,CAACf,SAAS,IAAI,OAAOA,SAAS,KAAK,QAAQ,EAAC;MAC5C,MAAM,IAAIa,KAAK,CAAC,sCAAsC,CAAC;IAC1D;IAEA,IAAI,CAACG,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI;IACzC,IAAI,CAACV,WAAW,GAAGR,SAAS;IAC5B,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACkB,OAAO,GAAG,4BAA4B;IAC3C,IAAI,CAAClB,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACmB,SAAS,GAAG,IAAI;EACxB;AAsBH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}